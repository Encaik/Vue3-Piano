var __vite_style__=document.createElement("style");__vite_style__.innerHTML="*{margin:0;padding:0}#App{width:100vw;height:100vh;overflow:hidden;background-color:#5f9ea0}.container{padding:25px}.title{text-align:center;font-size:40px;color:#2e2e2e;filter:drop-shadow(4px 4px 4px #2e2e2e);margin-bottom:25px}.setting{display:flex;justify-content:center;align-items:center}.setting .setting-btn-group{display:flex;justify-content:center;align-items:center}.setting .setting-btn-group .setting-btn{background-color:#4285f4;color:#fff;width:120px;height:32px;line-height:32px;border-radius:2px;font-size:.9em;text-align:center;cursor:pointer}.setting .setting-btn-group .setting-btn:hover{background-color:#1f50a0}.keyboard{display:flex;justify-content:center;flex-wrap:wrap;padding:25px}.keyboard .white-key{border-radius:0 0 5px 5px;display:flex;justify-content:center;align-items:flex-end;user-select:none;cursor:pointer;font-size:8px;transition:all .2s ease-out;width:50px;height:200px;background-color:#fff;border:2px solid gray;box-shadow:2px 2px 0 0 #fff}.keyboard .white-key:hover{background-color:#747474;box-shadow:2px 2px 0 0 #747474}.keyboard .black-key{border-radius:0 0 5px 5px;display:flex;justify-content:center;align-items:flex-end;user-select:none;cursor:pointer;font-size:8px;transition:all .2s ease-out;width:32px;height:125px;background-color:#000;border:2px solid gray;margin:0 -18px;z-index:10;color:#fff;box-shadow:2px 2px 0 0 #000}.keyboard .black-key:hover{background-color:#747474;box-shadow:2px 2px 0 0 #747474}.keyboard .key-active{background-color:#575757;box-shadow:2px 2px 0 0 #575757}.text-input{display:flex;justify-content:center;gap:15px;margin:25px 0;color:#fff;font-size:20px}.music-input{display:flex;justify-content:center}",document.head.appendChild(__vite_style__),System.register(["./vendor-legacy.1d22b88f.js"],(function(){"use strict";var e,y,a,p,t,k,i,m,c,N,n,o,s,l,h;return{setters:[function(r){e=r.r,y=r.S,a=r.l,p=r.o,t=r.c,k=r.a,i=r.F,m=r.b,c=r.u,N=r.w,n=r.v,o=r.i,s=r.n,l=r.t,h=r.d}],execute:function(){const r={id:"App"},d={class:"container"},T=k("div",{class:"title"},"ENCAIK POINA",-1),M={class:"setting"},u={class:"setting-btn-group"},b={class:"keyboard"},g={class:"keyboard"},x=k("div",{class:"text-input"},[k("span",null,"C4中央Do"),k("span",null,"R四分休止符"),k("span",null,"_（下划线）四分延音符"),k("span",null,"-（减号）八分音符"),k("span",null,"=（等号）十六分音符"),k("span",null,".（英文句号）附点音符")],-1),f={class:"music-input"};h({expose:[],setup(h){let A=[{keyName:"",pitchName:"A0",keyType:0,keyMap:""},{keyName:"",pitchName:"Bb0",keyType:1,keyMap:""},{keyName:"",pitchName:"B0",keyType:0,keyMap:""},{keyName:"",pitchName:"C1",keyType:0,keyMap:""},{keyName:"",pitchName:"Db1",keyType:1,keyMap:""},{keyName:"",pitchName:"D1",keyType:0,keyMap:""},{keyName:"",pitchName:"Eb1",keyType:1,keyMap:""},{keyName:"",pitchName:"E1",keyType:0,keyMap:""},{keyName:"",pitchName:"F1",keyType:0,keyMap:""},{keyName:"",pitchName:"Gb1",keyType:1,keyMap:""},{keyName:"",pitchName:"G1",keyType:0,keyMap:""},{keyName:"",pitchName:"Ab1",keyType:1,keyMap:""},{keyName:"",pitchName:"A1",keyType:0,keyMap:""},{keyName:"",pitchName:"Bb1",keyType:1,keyMap:""},{keyName:"",pitchName:"B1",keyType:0,keyMap:""},{keyName:"Q",pitchName:"C2",keyType:0,keyMap:"KeyQ"},{keyName:"2",pitchName:"Db2",keyType:1,keyMap:"Digit2"},{keyName:"w",pitchName:"D2",keyType:0,keyMap:"KeyW"},{keyName:"3",pitchName:"Eb2",keyType:1,keyMap:"Digit3"},{keyName:"E",pitchName:"E2",keyType:0,keyMap:"KeyE"},{keyName:"R",pitchName:"F2",keyType:0,keyMap:"KeyR"},{keyName:"5",pitchName:"Gb2",keyType:1,keyMap:"Digit5"},{keyName:"T",pitchName:"G2",keyType:0,keyMap:"KeyT"},{keyName:"6",pitchName:"Ab2",keyType:1,keyMap:"Digit6"},{keyName:"Y",pitchName:"A2",keyType:0,keyMap:"KeyY"},{keyName:"7",pitchName:"Bb2",keyType:1,keyMap:"Digit7"},{keyName:"U",pitchName:"B2",keyType:0,keyMap:"KeyU"},{keyName:"I",pitchName:"C3",keyType:0,keyMap:"KeyI"},{keyName:"9",pitchName:"Db3",keyType:1,keyMap:"Digit9"},{keyName:"O",pitchName:"D3",keyType:0,keyMap:"KeyO"},{keyName:"0",pitchName:"Eb3",keyType:1,keyMap:"Digit0"},{keyName:"P",pitchName:"E3",keyType:0,keyMap:"KeyP"},{keyName:"[",pitchName:"F3",keyType:0,keyMap:"BracketLeft"},{keyName:"=",pitchName:"Gb3",keyType:1,keyMap:"Equal"},{keyName:"]",pitchName:"G3",keyType:0,keyMap:"BracketRight"},{keyName:"A",pitchName:"Ab3",keyType:1,keyMap:"KeyA"},{keyName:"Z",pitchName:"A3",keyType:0,keyMap:"KeyZ"},{keyName:"S",pitchName:"Bb3",keyType:1,keyMap:"KeyS"},{keyName:"X",pitchName:"B3",keyType:0,keyMap:"KeyX"},{keyName:"C",pitchName:"C4",keyType:0,keyMap:"KeyC"},{keyName:"F",pitchName:"Db4",keyType:1,keyMap:"KeyF"},{keyName:"V",pitchName:"D4",keyType:0,keyMap:"KeyV"},{keyName:"G",pitchName:"Eb4",keyType:1,keyMap:"KeyG"},{keyName:"B",pitchName:"E4",keyType:0,keyMap:"KeyB"},{keyName:"N",pitchName:"F4",keyType:0,keyMap:"KeyN"},{keyName:"J",pitchName:"Gb4",keyType:1,keyMap:"KeyJ"},{keyName:"M",pitchName:"G4",keyType:0,keyMap:"KeyM"},{keyName:"K",pitchName:"Ab4",keyType:1,keyMap:"KeyK"},{keyName:",",pitchName:"A4",keyType:0,keyMap:"Comma"},{keyName:"L",pitchName:"Bb4",keyType:1,keyMap:"KeyL"},{keyName:".",pitchName:"B4",keyType:0,keyMap:"Period"},{keyName:"/",pitchName:"C5",keyType:0,keyMap:"Slash"},{keyName:"'",pitchName:"Db5",keyType:1,keyMap:"Quote"},{keyName:"",pitchName:"D5",keyType:0,keyMap:""},{keyName:"",pitchName:"Eb5",keyType:1,keyMap:""},{keyName:"",pitchName:"E5",keyType:0,keyMap:""},{keyName:"",pitchName:"F5",keyType:0,keyMap:""},{keyName:"",pitchName:"Gb5",keyType:1,keyMap:""},{keyName:"",pitchName:"G5",keyType:0,keyMap:""},{keyName:"",pitchName:"Ab5",keyType:1,keyMap:""},{keyName:"",pitchName:"A5",keyType:0,keyMap:""},{keyName:"",pitchName:"Bb5",keyType:1,keyMap:""},{keyName:"",pitchName:"B5",keyType:0,keyMap:""},{keyName:"",pitchName:"C6",keyType:0,keyMap:""},{keyName:"",pitchName:"Db6",keyType:1,keyMap:""},{keyName:"",pitchName:"D6",keyType:0,keyMap:""},{keyName:"",pitchName:"Eb6",keyType:1,keyMap:""},{keyName:"",pitchName:"E6",keyType:0,keyMap:""},{keyName:"",pitchName:"F6",keyType:0,keyMap:""},{keyName:"",pitchName:"Gb6",keyType:1,keyMap:""},{keyName:"",pitchName:"G6",keyType:0,keyMap:""},{keyName:"",pitchName:"Ab6",keyType:1,keyMap:""},{keyName:"",pitchName:"A6",keyType:0,keyMap:""},{keyName:"",pitchName:"Bb6",keyType:1,keyMap:""},{keyName:"",pitchName:"B6",keyType:0,keyMap:""},{keyName:"",pitchName:"C7",keyType:0,keyMap:""},{keyName:"",pitchName:"Db7",keyType:1,keyMap:""},{keyName:"",pitchName:"D7",keyType:0,keyMap:""},{keyName:"",pitchName:"Eb7",keyType:1,keyMap:""},{keyName:"",pitchName:"E7",keyType:0,keyMap:""},{keyName:"",pitchName:"F7",keyType:0,keyMap:""},{keyName:"",pitchName:"Gb7",keyType:1,keyMap:""},{keyName:"",pitchName:"G7",keyType:0,keyMap:""},{keyName:"",pitchName:"Ab7",keyType:1,keyMap:""},{keyName:"",pitchName:"A7",keyType:0,keyMap:""},{keyName:"",pitchName:"Bb7",keyType:1,keyMap:""},{keyName:"",pitchName:"B7",keyType:0,keyMap:""},{keyName:"",pitchName:"C8",keyType:0,keyMap:""}],v=e("C4-D4-E4-G4G4-R-E4-G4-E4-A4-G4-E4-G4.R-E4=G4=A4-A4-A4-A4-A4-G4-F4=G4=G4._E4B4-C5C5-C5-E4-R-E4-B4-B4C5-B4-G4.R-C4=G4=A4-A4-A4-A4-A4-G4-F4=G4=G4._");const C=new y({urls:{A0:"A0.mp3",C1:"C1.mp3",A1:"A1.mp3",C2:"C2.mp3",A2:"A2.mp3",C3:"C3.mp3",A3:"A3.mp3",C4:"C4.mp3",C5:"C5.mp3",A5:"A5.mp3",C6:"C6.mp3",A6:"A6.mp3",C7:"C7.mp3"},release:1,baseUrl:"/Vue3-Piano/samples/piano/"}).toDestination();function E(e){C.triggerAttackRelease(e,"8n");let y=document.getElementById(e);y.classList.add("key-active"),setTimeout((()=>{y.classList.remove("key-active")}),100)}a().then((()=>{!function(){let e=.5,y=[],a=v.value.match(/[a-zA-Z]+[0-9]?(-|=)?\.?/g)||[];for(let t of a){console.log(t);let a=0,p=t.match(/(-|=|\.)/g)||[];console.log(p),p.includes("-")?a+=.25:p.includes("=")?a+=.125:(p.includes("_"),a+=e),p.includes(".")&&(a+=a/2),y.push({pitch:t.match(/[a-zA-Z]+[0-9]?/)[0],playTime:a})}let p=s();y.forEach((e=>{console.log(e),"R"!==e.pitch&&C.triggerAttackRelease(e.pitch,"2n",p),p+=e.playTime}))}()}));let G=e(1);function K(e){G.value=e}let w=new Map;document.addEventListener("keydown",(e=>{var y;if(w.has(e.code))return;w.set(e.code);let a=null===(y=A.filter((y=>y.keyMap===e.code)))||void 0===y?void 0:y[0];a&&E(a.pitchName)})),document.addEventListener("keyup",(e=>{w.delete(e.code)}));let B=!1;return document.addEventListener("mousedown",(()=>{B=!0})),document.addEventListener("mouseover",(e=>{B&&["white-key","black-key"].includes(e.target.className)&&E(e.target.innerHTML)})),document.addEventListener("mouseup",(()=>{B=!1})),(e,y)=>(p(),t("div",r,[k("div",d,[T,k("div",M,[k("div",u,[k("div",{class:"setting-btn",onClick:y[1]||(y[1]=e=>K(0))},"键名"),k("div",{class:"setting-btn",onClick:y[2]||(y[2]=e=>K(1))},"音名")])]),k("div",b,[(p(!0),t(i,null,m(c(A).slice(0,c(A).length/2),(e=>(p(),t("div",{class:e.keyType?"black-key":"white-key",key:e.pitchName,onClick:y=>E(e.pitchName),id:e.pitchName},l(c(G)?e.pitchName:e.keyName),11,["onClick","id"])))),128))]),k("div",g,[(p(!0),t(i,null,m(c(A).slice(c(A).length/2),(e=>(p(),t("div",{class:e.keyType?"black-key":"white-key",key:e.pitchName,onClick:y=>E(e.pitchName),id:e.pitchName},l(c(G)?e.pitchName:e.keyName),11,["onClick","id"])))),128))]),x,k("div",f,[N(k("textarea",{rows:"10",cols:"200","onUpdate:modelValue":y[3]||(y[3]=e=>o(v)?v.value=e:v=e)},"\n        ",512),[[n,c(v)]])])])]))}}).mount("#app")}}}));
